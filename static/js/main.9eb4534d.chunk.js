(this["webpackJsonp01-todolist"]=this["webpackJsonp01-todolist"]||[]).push([[0],{15:function(t,e,a){},27:function(t,e,a){t.exports=a(56)},32:function(t,e,a){},56:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(8),r=a.n(i),s=(a(32),a(2)),c=a(9),l=a(4),d=a(3),u=(a(15),function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={error:!1,tittle:""},t.onAddItemClick=function(){var e=t.state.tittle;""===e?t.setState({error:!0}):(t.setState({error:!1,tittle:""}),t.props.addItem(e))},t.onChangeInput=function(e){var a=e.currentTarget.value;t.setState({error:!1,tittle:a})},t.onEnterPress=function(e){if("Enter"===e.key){var a=t.state.tittle;""===a?t.setState({error:!0}):(t.setState({error:!1,tittle:""}),t.props.addItem(a))}},t.render=function(){var e=!0===t.state.error?"input is-medium error":"input is-medium";return o.a.createElement("div",{className:"field has-addons"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{className:e,type:"text",placeholder:t.props.placeholder,onChange:t.onChangeInput,onKeyPress:t.onEnterPress,value:t.state.tittle})),o.a.createElement("div",{className:"control"},o.a.createElement("button",{className:"button is-primary is-medium",onClick:t.onAddItemClick},"Add")))},t}return a}(o.a.Component)),p=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={isHidden:!1},t.onAllFilterClick=function(){t.props.changeFilter(t.props.todoId,"All")},t.onCompletedFilterClick=function(){t.props.changeFilter(t.props.todoId,"2")},t.onActiveFilterClick=function(){t.props.changeFilter(t.props.todoId,"0")},t.onShowFiltersClick=function(){t.setState({isHidden:!0})},t.onHideFiltersClick=function(){t.setState({isHidden:!1})},t.render=function(e){var a="All"===t.props.filterValue?"is-active":"",n="2"===t.props.filterValue?"is-active":"",i="0"===t.props.filterValue?"is-active":"";return o.a.createElement("div",{className:"tabs is-centered"},!t.state.isHidden&&o.a.createElement("ul",null,o.a.createElement("li",{onClick:t.onAllFilterClick,className:a},o.a.createElement("a",null,"All")),o.a.createElement("li",{onClick:t.onCompletedFilterClick,className:n},o.a.createElement("a",null,"Completed")),o.a.createElement("li",{onClick:t.onActiveFilterClick,className:i},o.a.createElement("a",null,"Active"))))},t}return a}(o.a.Component),f=a(1),m=a(24).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1/",headers:{"API-KEY":"cf1841cd-6d1a-4d5e-ab77-95df9a8ef2a0"}}),T=function(t,e){return m.post("todo-lists/".concat(t,"/tasks"),{title:e})},h=function(t){return m.post("todo-lists",{title:t})},k=function(){return m.get("todo-lists")},v=function(t){return m.delete("todo-lists/{".concat(t,"}"))},O=function(t){return m.get("todo-lists/".concat(t,"/tasks"))},b=function(t,e){return m.delete("todo-lists/{".concat(t,"}/tasks/{").concat(e,"}"))},E=function(t,e,a,n){return m.put("todo-lists/{".concat(t,"}/tasks/{").concat(e,"}"),{title:a,status:n})},j=function(t,e,a){return m.put("todo-lists/{".concat(t,"}/tasks/{").concat(e.id,"}"),Object(f.a)(Object(f.a)({},e),{},{title:a}))},I=function(t,e){return m.put("/todo-lists/".concat(t),{title:e})},g=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,title:t.props.task.title},t.onIsDoneChanged=function(e){var a;a=!0===e.currentTarget.checked?2:0,E(t.props.todoId,t.props.task.id,t.props.task.title,a).then((function(e){t.props.changeStatus(e.data.data.item.todoListId,e.data.data.item.id,e.data.data.item.status)}))},t.onTitleChanged=function(e){t.setState({title:e.currentTarget.value})},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.props.changeTitle(t.props.todoId,t.props.task,t.state.title),t.setState({editMode:!1})},t.deleteTask=function(){b(t.props.todoId,t.props.task.id).then((function(e){t.props.deleteTask(t.props.todoId,t.props.task.id)}))},t.render=function(){var e;e=2===t.props.task.status;var a="".concat("panel-block"," ").concat(e&&"is-active");return o.a.createElement("div",{className:"panel-block"},o.a.createElement("a",{className:a},o.a.createElement("input",{type:"checkbox",checked:e,onChange:t.onIsDoneChanged}),t.state.editMode?o.a.createElement("input",{onBlur:t.deactivateEditMode,onChange:t.onTitleChanged,autoFocus:!0,value:t.state.title}):o.a.createElement("div",{className:"task-text",onClick:t.activateEditMode}," ",t.props.task.title)),o.a.createElement("button",{className:"delete",onClick:t.deleteTask},"X"))},t}return a}(o.a.Component),S=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).render=function(){var e=t.props.task.map((function(e){return o.a.createElement(g,{todoId:t.props.todoId,key:t.props.todoId,task:e,changeTitle:t.props.changeTitle,changeStatus:t.props.changeStatus,deleteTask:t.props.deleteTask})}));return o.a.createElement("div",{className:"panel"},e)},t}return a}(o.a.Component),C=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,title:t.props.title},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){I(t.props.todoId,t.state.title).then((function(e){t.props.changeToDoListTitle(t.props.todoId,t.state.title),t.setState({editMode:!1})}))},t.onTitleChanged=function(e){t.setState({title:e.currentTarget.value})},t.render=function(){return o.a.createElement("div",{className:"todoList-header"},t.state.editMode?o.a.createElement("input",{onBlur:t.deactivateEditMode,autoFocus:!0,onChange:t.onTitleChanged,value:t.state.title}):o.a.createElement("h3",{className:"todoList-header__title",onClick:t.activateEditMode},t.props.title))},t}return a}(o.a.Component),A=a(6),L=a(13),D={todolists:[],newTodoLisId:2},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TODOLIST":return Object(f.a)(Object(f.a)({},t),{},{todolists:e.todolists.map((function(t){return Object(f.a)(Object(f.a)({},t),{},{tasks:[]})}))});case"SET_TASKS":return Object(f.a)(Object(f.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id!==e.todolistsId?t:Object(f.a)(Object(f.a)({},t),{},{tasks:e.allTasks})}))});case"reducer/ADD-TODOLIST":return Object(f.a)(Object(f.a)({},t),{},{todolists:[].concat(Object(L.a)(t.todolists),[e.newTodolist]),newTodoLisId:t.newTodoLisId+1});case"DELETE_TODOLIST":return Object(f.a)(Object(f.a)({},t),{},{todolists:t.todolists.filter((function(t){if(t.id!==e.todolistId)return t}))});case"ADD_TASK":return Object(f.a)(Object(f.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(f.a)(Object(f.a)({},t),{},{tasks:[].concat(Object(L.a)(t.tasks),[e.newTask])})}))});case"DELETE_TASK":return Object(f.a)(Object(f.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(f.a)(Object(f.a)({},t),{},{tasks:t.tasks.filter((function(a){if(a.id!==e.taskId)return t}))})}))});case"CHANGE_TASK":return Object(f.a)(Object(f.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(f.a)(Object(f.a)({},t),{},{tasks:t.tasks.map((function(t){return t.id!==e.taskId?t:Object(f.a)(Object(f.a)({},t),{},{title:e.title})}))})}))});case"CHANGE_FILTER":return Object(f.a)(Object(f.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(f.a)(Object(f.a)({},t),{},{filter:e.newFilterValue})}))});case"CHANGE_STATUS":return Object(f.a)(Object(f.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(f.a)(Object(f.a)({},t),{},{tasks:t.tasks.map((function(t){return t.id!==e.taskId?t:Object(f.a)(Object(f.a)({},t),{},{status:e.isDone})}))})}))});case"CHANGE_TODOLIST_TITLE":return Object(f.a)(Object(f.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id!==e.todoListId?t:Object(f.a)(Object(f.a)({},t),{},{title:e.title})}))});default:return t}},w=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).restoreState=function(){t.props.loadTask(t.props.id)},t.addTask=function(e){t.props.addTask(t.props.id,e)},t.changeFilter=function(e,a){t.props.changeFilter(e,a)},t.changeStatus=function(e,a,n){t.props.changeStatus(e,a,n)},t.changeTask=function(e,a,n){t.props.changeTask(e,a,n)},t.changeTitle=function(e,a,n){t.changeTask(e,a,n)},t.deleteTodolist=function(){v(t.props.id).then((function(e){t.props.deleteList(t.props.id)}))},t.render=function(){var e=t.props.tasks,a=(void 0===e?[]:e).filter((function(e){switch(t.props.filter){case"All":return!0;case"2":return e.status;case"0":return!e.status;default:return!0}}));return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"message"},o.a.createElement("div",{className:"message-header"},o.a.createElement(C,{title:t.props.title,changeToDoListTitle:t.props.changeToDoListTitle,todoId:t.props.id}),o.a.createElement("button",{className:"delete",onClick:t.deleteTodolist},"X")),o.a.createElement(u,{addItem:t.addTask,placeholder:"\u0418\u043c\u044f \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438"}),o.a.createElement(S,{changeStatus:t.changeStatus,todoId:t.props.id,changeTitle:t.changeTitle,task:a,deleteTask:t.props.deleteTask}),o.a.createElement(p,{changeFilter:t.changeFilter,filterValue:t.props.filter,todoId:t.props.id})))},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.restoreState()}}]),a}(o.a.Component),N=Object(A.b)(null,(function(t){return{addTask:function(e,a){var n=function(t,e){return function(a){T(t,e).then((function(e){var n=e.data.data.item;a(function(t,e){return{type:"ADD_TASK",newTask:e,todolistId:t}}(t,n))}))}}(e,a);t(n)},deleteTask:function(e,a){var n=function(t,e){return{type:"DELETE_TASK",todolistId:t,taskId:e}}(e,a);t(n)},changeTask:function(e,a,n){var o=function(t,e,a){return function(n){j(t,e,a).then((function(o){n(function(t,e,a){return{type:"CHANGE_TASK",todolistId:t,taskId:e.id,title:a}}(t,e,a))}))}}(e,a,n);t(o)},changeFilter:function(e,a){var n=function(t,e){return{type:"CHANGE_FILTER",todolistId:t,newFilterValue:e}}(e,a);t(n)},changeStatus:function(e,a,n){var o=function(t,e,a){return{type:"CHANGE_STATUS",todolistId:t,taskId:e,isDone:a}}(e,a,n);t(o)},loadTask:function(e){var a=function(t){return function(e){O(t).then((function(a){var n=a.data.items;e({type:"SET_TASKS",allTasks:n,todolistsId:t})}))}}(e);t(a)}}}))(w);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).restoreState=function(){k().then((function(e){t.props.setToDoLists(e.data)}))},t.addToDoList=function(e){h(e).then((function(e){var a=e.data.data.item;t.props.addTodolist(a)}))},t.deleteToDoList=function(e){t.props.deleteTodolist(e)},t.render=function(){var e=t.props.todolists.map((function(e){return o.a.createElement(N,{key:e.id,id:e.id,title:e.title,tasks:e.tasks,deleteList:t.deleteToDoList,filter:e.filter,changeToDoListTitle:t.props.changeToDoListTitle})}));return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(u,{addItem:t.addToDoList,placeholder:"\u0418\u043c\u044f \u043d\u043e\u0432\u043e\u0433\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0434\u0435\u043b"})),o.a.createElement("div",{className:"main-block"},e))},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.restoreState(),alert("\u0412 \u0441\u0438\u043b\u0443 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0441\u0442\u0438 Api, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0433\u043e \u0434\u043b\u044f \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440. \u0427\u0442\u043e \u0431\u044b \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u044c\u0442\u0435\u0441\u044c \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 https://social-network.samuraijs.com , \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0430\u044f \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442. Email: free@samuraijs.com Password: free  \u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0438\u043c\u0435\u0435\u0442 \u043e\u0447\u0435\u043d\u044c \u0441\u0438\u043b\u044c\u043d\u044b\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043d\u0430 \u043a\u043e\u043b-\u0432\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043d\u0435 \u0441\u043f\u0430\u043c\u044c\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b.")}}]),a}(o.a.Component),_=Object(A.b)((function(t){return{todolists:t.todolists,newTodoLisId:t.newTodoLisId}}),(function(t){return{addTodolist:function(e){var a=function(t){return{type:"reducer/ADD-TODOLIST",newTodolist:t}}(e);t(a)},deleteTodolist:function(e){var a=function(t){return{type:"DELETE_TODOLIST",todolistId:t}}(e);t(a)},setToDoLists:function(e){var a=function(t){return{type:"SET_TODOLIST",todolists:t}}(e);t(a)},changeToDoListTitle:function(e,a){var n=function(t,e){return{type:"CHANGE_TODOLIST_TITLE",todoListId:t,title:e}}(e,a);t(n)}}}))(F),M=a(7),H=a(26),K=Object(M.c)(y,Object(M.a)(H.a));r.a.render(o.a.createElement(A.a,{store:K},o.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.9eb4534d.chunk.js.map